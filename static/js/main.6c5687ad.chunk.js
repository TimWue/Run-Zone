(this["webpackJsonprun-zone-ts"]=this["webpackJsonprun-zone-ts"]||[]).push([[0],{44:function(n,e,t){},45:function(n,e,t){},57:function(n,e,t){"use strict";t.r(e);var c,r=t(0),i=t.n(r),o=t(23),a=t.n(o),s=(t(44),t(3)),u=(t(45),t(17)),j=t(2),l=t(12),b=t(1),d=Object(r.createContext)({runnerPosition:void 0,runnerSpeed:null,runner:void 0,runs:[],setRunner:function(n){},setRuns:function(n){},addRun:function(n){},setRunnerPosition:function(n){}}),O=function(n){var e=n.children,t=Object(r.useState)([]),c=Object(j.a)(t,2),i=c[0],o=c[1],a=Object(r.useState)(),s=Object(j.a)(a,2),O=s[0],x=s[1],f=Object(r.useState)(null),h=Object(j.a)(f,2),p=h[0],g=h[1],R=Object(r.useState)(),v=Object(j.a)(R,2),m=v[0],S=v[1],w={enableHighAccuracy:!0},N=function(n){console.warn("ERROR(".concat(n.code,"): ").concat(n.message))},k=function(n){x(new l.LatLng(n.coords.latitude,n.coords.longitude)),n.coords.speed&&g((3.6*n.coords.speed).toFixed(1))};return Object(r.useEffect)((function(){navigator.geolocation.watchPosition(k,N,w)}),[]),Object(b.jsx)(d.Provider,{value:{runner:m,setRunner:S,runs:i,setRuns:o,runnerPosition:O,setRunnerPosition:x,addRun:function(n){o((function(e){return e.length>0?[].concat(Object(u.a)(e),[n]):[n]}))},runnerSpeed:p},children:e})};!function(n){n.RUNNER="runner",n.RUNS="runs"}(c||(c={}));var x,f,h,p,g,R=function(){return{getRunner:function(){var n=localStorage.getItem(c.RUNNER);return n?JSON.parse(n):void 0},setRunner:function(n){localStorage.setItem(c.RUNNER,JSON.stringify(n))},removeRunner:function(){localStorage.removeItem(c.RUNNER)}}},v=t(4);!function(n){n.FONT_FAMILY_MAIN="Open Sans Condensed, sans-serif",n.BACKGROUND_COLOR_MAIN="#343a40",n.BACKGROUND_COLOR_SECOND="#5f9ea0",n.FONT_SIZE_NORMAL="16px",n.FONT_SIZE_LARGER="20px",n.FONT_SIZE_LARGE="24px"}(x||(x={}));var m,S,w,N,k,I,E,_,C,A,T,y,F,L,z,M,P,D,U=function(n){var e=Object(r.useState)(""),t=Object(j.a)(e,2),c=t[0],i=t[1],o=R(),a=Object(r.useContext)(d).setRunner;return Object(b.jsxs)(Z,{children:[Object(b.jsx)(G,{children:"Willkommen!"}),Object(b.jsx)(W,{type:"text",onChange:function(n){i(n.target.value)},value:c,placeholder:"Wie hei\xdft du?"}),Object(b.jsx)(B,{onClick:function(){console.log("Login "+c);var n={runnerName:c,runnerRunIds:[]};o.setRunner(n),a(n)},children:"Login"})]})},G=v.a.h3(f||(f=Object(s.a)(["\n  font-family: ",";\n  font-size: ",";\n  text-transform: uppercase;\n  color: #343a40;\n  font-weight: bold;\n  margin: 0 0 30% 0;\n"])),x.FONT_FAMILY_MAIN,x.FONT_SIZE_LARGER),Z=v.a.div(h||(h=Object(s.a)(["\n  width: 20%;\n  min-width: 300px;\n  height: 80%;\n  min-height: 500px;\n  background-color: aliceblue;\n  border-radius: 10px;\n  box-shadow: 10px 10px #282c34;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: 10% auto auto auto;\n"]))),W=v.a.input(p||(p=Object(s.a)(["\n  width: 70%;\n  height: 40px;\n  border: none;\n  border-radius: 10px;\n  margin: 5px;\n  text-align: center;\n"]))),B=v.a.button(g||(g=Object(s.a)(["\n  width: 70%;\n  height: 50px;\n  background-color: #343a40;\n  color: white;\n  border-radius: 10px;\n  margin: 5px;\n"]))),J=t(36),Y=t(65),K=t(63),X=t(60),H=t(31),V=function(){return{track2Polygon:function(n){return n.map((function(n){return[n.latitude,n.longitude]}))},calcArea:function(n){var e=n.map((function(n){return[n.latitude,n.longitude]})),t=Object(H.polygon)([e]);return Object(H.area)(t)/1e6}}},q=function(n){var e=n.runs,t=V();return Object(b.jsx)(b.Fragment,{children:e.map((function(n,e){return Object(b.jsx)(X.a,{positions:t.track2Polygon(n.track.trackPoints)})}))})},Q=t(61),$=t(62),nn=function(){var n=Object(r.useContext)(d).runnerPosition,e=Object(Q.a)();return Object(r.useEffect)((function(){n&&e.setView(n)}),[n]),Object(b.jsx)(b.Fragment,{children:n&&Object(b.jsx)($.a,{position:n})})},en=function(n){var e=n.setShowRuns;return Object(b.jsx)("div",{className:"leaflet-top leaflet-right",children:Object(b.jsx)("div",{className:"leaflet-control",children:Object(b.jsx)("button",{onClick:function(){return e((function(n){return!n}))},children:"Show Runs"})})})},tn=function(n){Object(J.a)(n);var e=Object(r.useContext)(d).runs,t=Object(r.useState)(!1),c=Object(j.a)(t,2),i=c[0],o=c[1];return Object(b.jsxs)(cn,{className:"basicMap",center:[0,0],zoom:20,scrollWheelZoom:!1,children:[Object(b.jsx)(Y.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png"}),i&&Object(b.jsx)(q,{runs:e}),Object(b.jsx)(nn,{}),Object(b.jsx)(en,{setShowRuns:o})]})},cn=Object(v.a)(K.a)(m||(m=Object(s.a)(["\n  width: 100%;\n  height: 400px;\n  border-radius: 8px;\n"]))),rn=function(n){return Object(b.jsx)(tn,{})},on=t(37),an=Object(r.createContext)({}),sn=function(n){var e=n.children,t=Object(r.useState)(),c=Object(j.a)(t,2),i=c[0],o=c[1],a=Object(r.useState)([]),s=Object(j.a)(a,2),l=s[0],d=s[1],O=Object(r.useState)(),x=Object(j.a)(O,2),f=x[0],h=x[1],p=Object(r.useState)(!1),g=Object(j.a)(p,2),R=g[0],v=g[1];return Object(b.jsx)(an.Provider,{value:{startTime:i,isRunning:R,setIsRunning:v,run:f,startRun:function(){console.log("Start Run"),o(Date.now()),v(!0)},stopRun:function(){console.log("Stop Run");var n={trackPoints:l};h({runId:Object(on.uuid)(),track:n,startTime:i||Date.now(),endTime:Date.now()}),v(!1)},addTrackPoint:function(n){console.log("Add TrackPoint: ",n),d((function(e){return[].concat(Object(u.a)(e),[n])}))},resetRun:function(){h(void 0),o(void 0),d([])}},children:e})},un=function(){var n=localStorage.getItem(c.RUNS),e=n?JSON.parse(n):[];return{saveRuns:function(n){localStorage.setItem(c.RUNS,JSON.stringify(n))},getAllRuns:function(){return e},deleteRuns:function(){localStorage.removeItem(c.RUNS),localStorage.removeItem(c.RUNNER)}}},jn=t(64),ln=t(66),bn=function(){var n=Object(r.useContext)(an),e=n.addTrackPoint,t=n.startRun,c=n.stopRun,i=n.run,o=n.resetRun,a=n.isRunning,s=Object(r.useContext)(d),j=s.addRun,l=s.runs,O=s.runnerPosition,x=un();Object(r.useEffect)((function(){a&&f()}),[O]);var f=function(){O&&e({latitude:O.lat,longitude:O.lng,time:Date.now()})};return Object(b.jsxs)(jn.a,{size:"lg",children:[Object(b.jsx)(ln.a,{onClick:function(){t()},disabled:a,variant:"dark",children:"Start"}),Object(b.jsx)(ln.a,{onClick:function(){c()},disabled:!a,variant:"dark",children:"Stop"}),Object(b.jsx)(ln.a,{onClick:function(){console.log("Save run",l),l.length>0?x.saveRuns([].concat(Object(u.a)(l),[i])):x.saveRuns([i]),j(i)},disabled:a,variant:"dark",children:"Save"}),Object(b.jsx)(ln.a,{onClick:function(){console.log("Reset run"),o()},disabled:a,variant:"dark",children:"Reset"})]})},dn=function(n){var e=n.property,t=n.value;return Object(b.jsxs)(On,{children:[Object(b.jsx)(fn,{children:e}),Object(b.jsx)(hn,{children:t})]})},On=v.a.div(S||(S=Object(s.a)(["\n  width: 20%;\n  min-width: 120px;\n  background-color: #555;\n  border-radius: 10px;\n  padding: 10px;\n  margin: 10px 5px 10px 5px;\n"]))),xn=v.a.div(w||(w=Object(s.a)(["\n  font-family: Open Sans Condensed, sans-serif;\n  font-weight: bold;\n  text-transform: uppercase;\n  color: #eee;\n"]))),fn=Object(v.a)(xn)(N||(N=Object(s.a)(["\n  font-size: ",";\n"])),x.FONT_SIZE_LARGER),hn=Object(v.a)(xn)(k||(k=Object(s.a)(["\n  font-size: ",";\n"])),x.FONT_SIZE_LARGER),pn=function(){var n=Object(r.useContext)(d).runnerSpeed,e=Object(r.useContext)(an),t=e.startTime,c=e.isRunning,i=Object(r.useState)(0),o=Object(j.a)(i,2),a=o[0],s=o[1],u=Object(r.useState)(),l=Object(j.a)(u,2),O=l[0],x=l[1];return Object(r.useEffect)((function(){if(c){var n=setInterval((function(){t&&s(Date.now()-t)}),1e3);x(n)}else O&&clearInterval(O)}),[c]),Object(b.jsxs)(gn,{children:[Object(b.jsx)(dn,{property:"Speed",value:n?n+" [km/h]":"--"}),Object(b.jsx)(dn,{property:"Time",value:new Date(a).toISOString().substr(11,8)})]})},gn=v.a.div(I||(I=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  height: 50%;\n  padding: 5px;\n  flex-wrap: wrap;\n"]))),Rn=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(rn,{}),Object(b.jsx)(bn,{}),Object(b.jsx)(pn,{})]})},vn=t(10),mn=t(11),Sn=function(n){var e=n.children,t=Object(r.useState)(),c=Object(j.a)(t,2),i=c[0],o=c[1],a=Object(r.useState)(!1),s=Object(j.a)(a,2),u=s[0],l=s[1];return Object(b.jsx)(wn,{onTouchStart:function(n){o(n.targetTouches[0].clientX)},onTouchMove:function(n){var e=n.targetTouches[0].clientX;i-e>50&&l(!0),i-e<-50&&l(!1)},isActive:u,children:u&&e})},wn=v.a.div(E||(E=Object(s.a)(["\n  color: white;\n  width: inherit;\n  height: 100%;\n  z-index: 50;\n  position: absolute;\n  top: 0;\n  left: 0;\n  border-radius: 5px;\n  background-color: ",";\n  font-size: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])),(function(n){return n.isActive?"rgba(52, 58, 64, 0.9)":"rgba(52, 58, 64, 0)"}),x.FONT_SIZE_LARGER),Nn=function(n){var e=n.run,t=n.deleteCallback,c=V();return Object(b.jsxs)(_n,{children:[Object(b.jsx)(Sn,{children:Object(b.jsx)(vn.a,{onClick:function(){return t(e.runId)},icon:mn.i})}),Object(b.jsxs)(An,{className:"basicMap",center:function(n){var e=n.track.trackPoints[0];return new l.LatLng(e.latitude,e.longitude)}(e),zoom:20,dragging:!1,zoomControl:!1,children:[Object(b.jsx)(Y.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png"}),Object(b.jsx)(X.a,{positions:c.track2Polygon(e.track.trackPoints)})]}),Object(b.jsxs)(Cn,{children:[Object(b.jsxs)(In,{children:[Object(b.jsx)(vn.a,{icon:mn.c}),Object(b.jsx)(En,{children:new Date(e.startTime).toDateString()})]}),Object(b.jsxs)(In,{children:[Object(b.jsx)(vn.a,{icon:mn.d}),Object(b.jsx)(En,{children:new Date(e.endTime-e.startTime).toISOString().substr(11,8)})]}),Object(b.jsxs)(In,{children:[Object(b.jsx)(vn.a,{icon:mn.g}),Object(b.jsx)(En,{children:"10.2 km"})]}),Object(b.jsx)(kn,{children:"Details"})]})]})},kn=v.a.button(_||(_=Object(s.a)(["\n  max-width: 150px;\n  background-color: ",";\n  color: #282c34;\n  border: none;\n  border-radius: 5px;\n  box-shadow: 5px 5px 10px #282c34;\n  &:active {\n    box-shadow: 0 0;\n  }\n"])),x.BACKGROUND_COLOR_SECOND),In=v.a.div(C||(C=Object(s.a)(["\n  color: white;\n  font-size: ",";\n  font-family: ",";\n  display: inline-flex;\n  margin: 5px;\n"])),x.FONT_SIZE_NORMAL,x.FONT_FAMILY_MAIN),En=v.a.div(A||(A=Object(s.a)(["\n  margin-left: 10px;\n"]))),_n=v.a.div(T||(T=Object(s.a)(["\n  position: relative;\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  box-shadow: 5px 5px 5px #282c34;\n  border-radius: 5px;\n  margin-bottom: 15px;\n  cursor: pointer;\n"]))),Cn=v.a.div(y||(y=Object(s.a)(["\n  width: 50%;\n  padding-left: 5px;\n  display: flex;\n  flex-direction: column;\n"]))),An=Object(v.a)(K.a)(F||(F=Object(s.a)(["\n  width: 130px;\n  height: 130px;\n  border-radius: 8px;\n  border: none;\n  margin: 5px;\n  z-index: 0;\n"]))),Tn=function(n){var e=n.n,t=n.setOuterStartIndex,c=n.setOuterEndIndex,i=Object(r.useState)(3),o=Object(j.a)(i,2),a=o[0],s=(o[1],Object(r.useState)(0)),u=Object(j.a)(s,2),l=(u[0],u[1]),d=Object(r.useState)(a),O=Object(j.a)(d,2),x=(O[0],O[1]),f=Object(r.useState)(Math.ceil(e/a)),h=Object(j.a)(f,2),p=h[0],g=(h[1],Object(r.useState)(1)),R=Object(j.a)(g,2),v=R[0],m=R[1];Object(r.useEffect)((function(){var n=(v-1)*a,r=n+a>e?e:n+a;l(n),t(n),x(r),c(r)}),[a,v]);var S=function(n){m(w(v+n))},w=function(n){return n>p&&(n=p),n<1&&(n=1),n};return Object(b.jsxs)(zn,{children:[Object(b.jsx)(yn,{onClick:function(){return S(-1)},children:"<"}),Object(b.jsx)(Ln,{onChange:function(n){m(w(+n.currentTarget.value))},value:v}),Object(b.jsxs)(Fn,{children:[" / ",p]}),Object(b.jsx)(yn,{onClick:function(){return S(1)},children:">"})]})},yn=v.a.button(L||(L=Object(s.a)(["\n  background-color: #343a40;\n  color: white;\n  border: 1px white;\n"]))),Fn=v.a.div(z||(z=Object(s.a)(["\n  font-size: inherit;\n  width: 30px;\n  padding: 2px 5px;\n"]))),Ln=v.a.input(M||(M=Object(s.a)(["\n  width: 25px;\n  text-align: center;\n  font-size: inherit;\n"]))),zn=v.a.div(P||(P=Object(s.a)(["\n  color: white;\n  display: flex;\n  font-size: ",";\n  float: right;\n"])),x.FONT_SIZE_NORMAL),Mn=function(){var n=Object(r.useContext)(d),e=n.runs,t=n.setRuns,c=Object(r.useState)(),i=Object(j.a)(c,2),o=i[0],a=i[1],s=Object(r.useState)(),u=Object(j.a)(s,2),l=u[0],O=u[1],x=function(n){t(e.filter((function(e){return e.runId!=n})))};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(Tn,{n:e.length,setOuterStartIndex:a,setOuterEndIndex:O}),e.slice(o,l).map((function(n){return Object(b.jsx)(Nn,{run:n,deleteCallback:x},n.runId)}))]})};!function(n){n.ROOT="/",n.NEW="new",n.RUNS="runs"}(D||(D={}));var Pn,Dn,Un,Gn,Zn,Wn,Bn,Jn,Yn,Kn,Xn,Hn=t(5),Vn=function(){var n=Object(r.useContext)(d),e=n.setRunner,t=n.setRuns,c=n.runs,i=un(),o=R();Object(r.useEffect)((function(){a()}),[c]);var a=function(){i.saveRuns(c)};return{initRuns:function(){t(i.getAllRuns())},initRunner:function(){e(o.getRunner())},removeRunner:function(){e(void 0),o.removeRunner()},deleteAll:function(){i.deleteRuns()}}},qn=function(){var n=Object(r.useState)(!1),e=Object(j.a)(n,2),t=e[0],c=e[1],i=Vn();return Object(b.jsxs)(Qn,{onClick:function(){return c(!t)},children:[Object(b.jsx)(vn.a,{icon:mn.a}),Object(b.jsxs)($n,{show:t,children:[Object(b.jsx)(ne,{onClick:function(){return i.deleteAll()},children:"Forget"}),Object(b.jsx)(ne,{onClick:function(){return i.removeRunner()},children:"Logout"})]})]})},Qn=v.a.div(Pn||(Pn=Object(s.a)(["\n  position: relative;\n  display: inline-block;\n  color: white;\n  font-size: ",";\n"])),x.FONT_SIZE_LARGER),$n=v.a.div(Dn||(Dn=Object(s.a)(["\n  color: white;\n  background-color: ",";\n  display: ",";\n  position: absolute;\n  z-index: 500;\n  right: -200%;\n  box-shadow: 0px 0px 10px #282c34;\n  width: 100px;\n"])),x.BACKGROUND_COLOR_MAIN,(function(n){return n.show?"block":"none"})),ne=v.a.div(Un||(Un=Object(s.a)(["\n  text-align: center;\n  font-size: ",";\n  border: none;\n  cursor: pointer;\n  &:hover {\n    background-color: inherit;\n    color: white;\n  }\n"])),x.FONT_SIZE_LARGER),ee=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(te,{children:"Places"}),Object(b.jsx)(qn,{})]})},te=v.a.h2(Gn||(Gn=Object(s.a)(["\n  color: #eee;\n  font-family: ",";\n  font-size: ",";\n  font-weight: bold;\n  line-height: 48px;\n  padding: 0 5px;\n  text-transform: uppercase;\n  min-width: 200px;\n"])),x.FONT_FAMILY_MAIN,x.FONT_SIZE_LARGE),ce=function(){var n=Object(r.useContext)(d).runner;return Object(b.jsx)(ie,{children:Object(b.jsxs)(re,{children:["Willkommen",Object(b.jsx)("br",{}),n.runnerName]})})},re=v.a.h3(Zn||(Zn=Object(s.a)(["\n  font-family: ",";\n  text-align: center;\n  font-size: ",";\n  color: white;\n"])),x.FONT_FAMILY_MAIN,x.FONT_SIZE_LARGE),ie=v.a.div(Wn||(Wn=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 10% 0 0 0;\n"]))),oe=t(18),ae=function(){return Object(b.jsxs)(ue,{children:[Object(b.jsx)(je,{children:Object(b.jsx)(se,{to:D.NEW,children:Object(b.jsx)(vn.a,{icon:mn.f})})}),Object(b.jsx)(je,{children:Object(b.jsx)(se,{to:D.RUNS,children:Object(b.jsx)(vn.a,{icon:mn.h})})}),Object(b.jsx)(je,{children:Object(b.jsx)(vn.a,{icon:mn.b})}),Object(b.jsx)(je,{children:Object(b.jsx)(vn.a,{icon:mn.j})}),Object(b.jsx)(je,{children:Object(b.jsx)(vn.a,{icon:mn.e})})]})},se=Object(v.a)(oe.b)(Bn||(Bn=Object(s.a)(["\n  color: inherit;\n  font-size: inherit;\n  &:hover {\n    color: white;\n    background-color: inherit;\n  }\n  &:focus {\n    color: white;\n  }\n"]))),ue=v.a.div(Jn||(Jn=Object(s.a)(["\n  background-color: #282c34;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  display: flex;\n  flex-wrap: nowrap;\n  z-index: 1000;\n"]))),je=v.a.button(Yn||(Yn=Object(s.a)(["\n  height: 60px;\n  width: 20%;\n  display: block;\n  color: #888;\n  text-align: center;\n  padding: 14px 16px;\n  text-decoration: none;\n  font-size: ",";\n  border: none;\n  background-color: inherit;\n"])),x.FONT_SIZE_LARGER);var le=v.a.div(Kn||(Kn=Object(s.a)(["\n  width: 80%;\n  height: 100%;\n  margin: auto;\n"]))),be=v.a.div(Xn||(Xn=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 1% 0 1% 0;\n  flex-wrap: wrap;\n  margin: 20px 0 20px 0;\n"]))),de=function(){var n=Object(r.useContext)(d).runner,e=Vn();return Object(r.useEffect)((function(){e.initRuns(),e.initRunner()}),[]),n?Object(b.jsxs)(le,{children:[Object(b.jsx)(be,{children:Object(b.jsx)(ee,{})}),Object(b.jsxs)(Hn.c,{children:[Object(b.jsx)(Hn.a,{path:D.ROOT,element:Object(b.jsx)(ce,{})}),Object(b.jsx)(Hn.a,{path:D.NEW,element:Object(b.jsx)(Rn,{})}),Object(b.jsx)(Hn.a,{path:D.RUNS,element:Object(b.jsx)(Mn,{})})]}),Object(b.jsx)(ae,{})]}):Object(b.jsx)(le,{children:Object(b.jsx)(U,{})})},Oe=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,67)).then((function(e){var t=e.getCLS,c=e.getFID,r=e.getFCP,i=e.getLCP,o=e.getTTFB;t(n),c(n),r(n),i(n),o(n)}))};a.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(O,{children:Object(b.jsx)(sn,{children:Object(b.jsx)(oe.a,{children:Object(b.jsx)(de,{})})})})}),document.getElementById("root")),Oe()}},[[57,1,2]]]);
//# sourceMappingURL=main.6c5687ad.chunk.js.map