(this["webpackJsonprun-zone-ts"]=this["webpackJsonprun-zone-ts"]||[]).push([[0],{213:function(e,t,n){},214:function(e,t,n){},380:function(e,t,n){"use strict";n.r(t);var c,r=n(0),i=n.n(r),o=n(58),a=n.n(o),s=(n(213),n(6)),u=(n(214),n(63)),l=n(4),j=n(1),d=Object(r.createContext)({runner:void 0,runs:[],setRunner:function(e){},setRuns:function(e){},addRun:function(e){}}),O=function(e){var t=e.children,n=Object(r.useState)([]),c=Object(l.a)(n,2),i=c[0],o=c[1],a=Object(r.useState)(),s=Object(l.a)(a,2),O=s[0],b=s[1];return Object(j.jsx)(d.Provider,{value:{runner:O,setRunner:b,runs:i,setRuns:o,addRun:function(e){o((function(t){return t.length>0?[].concat(Object(u.a)(t),[e]):[e]}))}},children:t})};!function(e){e.RUNNER="runner",e.RUNS="runs"}(c||(c={}));var b,x,f,h,p,g=function(){return{getRunner:function(){var e=localStorage.getItem(c.RUNNER);return e?JSON.parse(e):void 0},setRunner:function(e){localStorage.setItem(c.RUNNER,JSON.stringify(e))},removeRunner:function(){localStorage.removeItem(c.RUNNER)}}},v=n(7);!function(e){e.FONT_FAMILY_MAIN="Open Sans Condensed, sans-serif",e.BACKGROUND_COLOR_MAIN="#343a40",e.BACKGROUND_COLOR_SECOND="#5f9ea0",e.FONT_SIZE_SMALL="0.75rem",e.FONT_SIZE_NORMAL="1rem",e.FONT_SIZE_LARGER="1.25rem",e.FONT_SIZE_LARGE="1.5rem",e.BOTTOM_NAVIGATION_HEIGHT="4rem",e.MAP_HEIGHT_SIZE="60%",e.HEADER_HEIGHT="4rem"}(b||(b={}));var m,R,S,N,w,_,I,E,y,k,A,T,C,L,D,F,M,G,z,U,P,Z=function(e){var t=Object(r.useState)(""),n=Object(l.a)(t,2),c=n[0],i=n[1],o=g(),a=Object(r.useContext)(d).setRunner;return Object(j.jsxs)(K,{children:[Object(j.jsx)(H,{children:"Willkommen!"}),Object(j.jsx)(B,{type:"text",onChange:function(e){i(e.target.value)},value:c,placeholder:"Wie hei\xdft du?"}),Object(j.jsx)(W,{onClick:function(){console.log("Login "+c);var e={runnerName:c,runnerRunIds:[]};o.setRunner(e),a(e)},children:"Login"})]})},H=v.a.h3(x||(x=Object(s.a)(["\n  font-family: ",";\n  font-size: ",";\n  text-transform: uppercase;\n  color: #343a40;\n  font-weight: bold;\n  margin: 0 0 30% 0;\n"])),b.FONT_FAMILY_MAIN,b.FONT_SIZE_LARGER),K=v.a.div(f||(f=Object(s.a)(["\n  width: 20%;\n  min-width: 300px;\n  height: 80%;\n  min-height: 500px;\n  background-color: aliceblue;\n  border-radius: 10px;\n  box-shadow: 10px 10px #282c34;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: 10% auto auto auto;\n"]))),B=v.a.input(h||(h=Object(s.a)(["\n  width: 70%;\n  height: 40px;\n  border: none;\n  border-radius: 10px;\n  margin: 5px;\n  text-align: center;\n"]))),W=v.a.button(p||(p=Object(s.a)(["\n  width: 70%;\n  height: 50px;\n  background-color: #343a40;\n  color: white;\n  border-radius: 10px;\n  margin: 5px;\n"]))),J=n(182),Y=n(396),V=n(388),X=n(385),q=n(132),Q=n(183),$=function(){return{calcArea:function(e){var t=e.map((function(e){return[e.latitude,e.longitude]})),n=Object(q.polygon)([t]);return Object(q.area)(n)/1e6},track2Polygon:function(e){return e.map((function(e){return[e.latitude,e.longitude]}))},calcDistance:function(e,t){var n={latitude:e.latitude,longitude:e.longitude},c={latitude:t.latitude,longitude:t.longitude};return Object(Q.getDistance)(n,c,.5)}}},ee=function(e){var t=e.runs,n=$();return Object(j.jsx)(j.Fragment,{children:t.map((function(e,t){return Object(j.jsx)(X.a,{positions:n.track2Polygon(e.track.trackPoints)})}))})},te=n(386),ne=n(387),ce=n(27),re=n(394),ie=function(){return{observeMeasurement:new re.a((function(e){navigator.geolocation.watchPosition((function(t){var n=new ce.LatLng(t.coords.latitude,t.coords.longitude),c=t.coords.speed?3.6*t.coords.speed:void 0,r=t.coords.altitude?t.coords.altitude:void 0;e.next({position:n,speed:c,altitude:r})}),(function(e){return console.error(e)}),{enableHighAccuracy:!0})}))}},oe=function(){var e=Object(r.useState)(),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(),o=Object(l.a)(i,2),a=o[0],s=o[1],u=Object(te.a)(),d=ie();return Object(r.useEffect)((function(){return s(d.observeMeasurement.subscribe((function(e){var t=new ce.LatLng(e.position.lat,e.position.lng);c(t),u.setView(t)}))),function(){a&&a.unsubscribe()}}),[]),Object(j.jsx)(j.Fragment,{children:n&&Object(j.jsx)(ne.a,{position:n})})},ae=function(e){var t=e.setShowRuns;return Object(j.jsx)("div",{className:"leaflet-top leaflet-right",children:Object(j.jsx)("div",{className:"leaflet-control",children:Object(j.jsx)("button",{onClick:function(){return t((function(e){return!e}))},children:"Show Runs"})})})},se=function(e){Object(J.a)(e);var t=Object(r.useContext)(d).runs,n=Object(r.useState)(!1),c=Object(l.a)(n,2),i=c[0],o=c[1];return Object(j.jsxs)(ue,{className:"basicMap",center:[0,0],zoom:20,scrollWheelZoom:!1,children:[Object(j.jsx)(Y.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png"}),i&&Object(j.jsx)(ee,{runs:t}),Object(j.jsx)(oe,{}),Object(j.jsx)(ae,{setShowRuns:o})]})},ue=Object(v.a)(V.a)(m||(m=Object(s.a)(["\n  width: 100%;\n  height: 75%;\n"]))),le=n(184),je=Object(r.createContext)({}),de=function(e){var t=e.children,n=Object(r.useState)(),c=Object(l.a)(n,2),i=c[0],o=c[1],a=Object(r.useState)(),s=Object(l.a)(a,2),d=s[0],O=s[1],b=Object(r.useState)([]),x=Object(l.a)(b,2),f=x[0],h=x[1],p=Object(r.useState)([]),g=Object(l.a)(p,2),v=g[0],m=g[1],R=Object(r.useState)(),S=Object(l.a)(R,2),N=S[0],w=S[1],_=Object(r.useState)(!1),I=Object(l.a)(_,2),E=I[0],y=I[1],k=$(),A=ie();Object(r.useEffect)((function(){E?o(A.observeMeasurement.subscribe((function(e){return C(T(e))}))):i&&i.unsubscribe()}),[E]);var T=function(e){return{latitude:e.position.lat,longitude:e.position.lng,altitude:e.altitude,speed:e.speed,time:Date.now()}},C=function(e){var t=f.length>0?k.calcDistance(f[f.length-1],e)/1e3:0;console.log("Add TrackPoint: ",e),h((function(t){return[].concat(Object(u.a)(t),[e])})),m((function(e){return[].concat(Object(u.a)(e),[{distance:t}])}))};return Object(j.jsx)(je.Provider,{value:{startTime:d,isRunning:E,setIsRunning:y,run:N,startRun:function(){console.log("Start Run"),O(Date.now()),y(!0)},stopRun:function(){if(console.log("Stop Run"),0===f.length)return Promise.resolve(void 0);var e={trackPoints:f,distances:v},t={runId:Object(le.uuid)(),track:e,startTime:d||Date.now(),endTime:Date.now()};return w(t),y(!1),Promise.resolve(t)},pauseRun:function(){console.log("Pause Run"),y(!1)},addTrackPoint:C,resetRun:function(){w(void 0),O(void 0),h([])}},children:t})},Oe=function(){var e=localStorage.getItem(c.RUNS),t=e?JSON.parse(e):[];return{saveRuns:function(e){localStorage.setItem(c.RUNS,JSON.stringify(e))},getAllRuns:function(){return t},deleteRuns:function(){localStorage.removeItem(c.RUNS),localStorage.removeItem(c.RUNNER)},getRun:function(e){return t.filter((function(t){return t.runId===e})).pop()}}},be=function(e){var t=e.show,n=e.setShow;return Object(j.jsxs)(he,{show:t,children:[Object(j.jsx)(xe,{children:"Strecke gespeichert!"}),Object(j.jsx)(fe,{onClick:function(){return n(!1)},children:"Nice"})]})},xe=v.a.div(R||(R=Object(s.a)(["\n  margin-left: auto;\n  margin-right: auto;\n  color: white;\n  width: 100%;\n  text-align: center;\n  padding: 2px 0 10px 0;\n"]))),fe=v.a.div(S||(S=Object(s.a)(["\n  border-radius: 5px;\n  margin-left: auto;\n  margin-right: auto;\n  text-align: center;\n  width: 30vw;\n  color: black;\n  background-color: ",";\n"])),b.BACKGROUND_COLOR_SECOND),he=v.a.div(N||(N=Object(s.a)(["\n  width: 70vw;\n  border-radius: 5px;\n  border: 1px solid black;\n  position: absolute;\n  background-color: #343a40;\n  color: white;\n  top: 50%;\n  left: calc(50% - 70vw * 0.5);\n  visibility: ",";\n  z-index: 500;\n  padding: 8px 10px;\n  font-weight: bolder;\n  font-size: ",";\n"])),(function(e){return e.show?"visible":"hidden"}),b.FONT_SIZE_NORMAL),pe=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(r.useContext)(je),o=(i.addTrackPoint,i.startRun),a=i.stopRun,s=i.pauseRun,O=i.isRunning,b=Object(r.useContext)(d),x=b.addRun,f=b.runs,h=Oe();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(ge,{children:[Object(j.jsx)(me,{onClick:function(){O?s():o()},children:O?"Pause":"Start"}),Object(j.jsx)(Re,{onClick:function(){a().then((function(e){console.log("Save run"),e&&(f.length>0?h.saveRuns([].concat(Object(u.a)(f),[e])):h.saveRuns([e]),x(e),c(!0))}))},children:"End"})]}),Object(j.jsx)(be,{show:n,setShow:c})]})},ge=v.a.div(w||(w=Object(s.a)(["\n  width: 100%;\n  height: 10%;\n  color: black;\n  display: flex;\n  text-align: center;\n  justify-content: space-between;\n"]))),ve=v.a.button(_||(_=Object(s.a)(["\n  background-color: ",";\n  font-size: ",";\n  color: inherit;\n  border: none;\n  padding: 10px 0;\n  font-weight: bolder;\n  &:focus {\n    outline: none;\n  }\n"])),b.BACKGROUND_COLOR_SECOND,b.FONT_SIZE_NORMAL),me=Object(v.a)(ve)(I||(I=Object(s.a)(["\n  width: 65%;\n"]))),Re=Object(v.a)(ve)(E||(E=Object(s.a)(["\n  width: 35%;\n"]))),Se=function(e){var t=e.property,n=e.value;return Object(j.jsxs)(Ne,{children:[Object(j.jsx)(_e,{children:t}),Object(j.jsx)(Ie,{children:n})]})},Ne=v.a.div(y||(y=Object(s.a)(["\n  width: 50%;\n  min-width: 120px;\n  background-color: ",";\n  padding: 10px;\n"])),b.BACKGROUND_COLOR_SECOND),we=v.a.div(k||(k=Object(s.a)(["\n  font-family: Open Sans Condensed, sans-serif;\n  font-weight: bolder;\n  color: black;\n"]))),_e=Object(v.a)(we)(A||(A=Object(s.a)(["\n  font-size: ",";\n"])),b.FONT_SIZE_LARGER),Ie=Object(v.a)(we)(T||(T=Object(s.a)(["\n  font-size: ",";\n"])),b.FONT_SIZE_LARGER),Ee=function(){var e=Object(r.useContext)(je),t=e.startTime,n=e.isRunning,c=Object(r.useState)(0),i=Object(l.a)(c,2),o=i[0],a=i[1],s=Object(r.useState)(0),u=Object(l.a)(s,2),d=u[0],O=u[1],b=Object(r.useState)(),x=Object(l.a)(b,2),f=x[0],h=x[1],p=Object(r.useState)(),g=Object(l.a)(p,2),v=g[0],m=g[1],R=ie();return Object(r.useEffect)((function(){if(n){m(R.observeMeasurement.subscribe((function(e){return e.speed&&O(e.speed)})));var e=setInterval((function(){t&&a(Date.now()-t)}),1e3);h(e)}else v&&v.unsubscribe(),f&&clearInterval(f)}),[n]),Object(j.jsxs)(ye,{children:[Object(j.jsx)(Se,{property:"Speed",value:d.toFixed(1)+" km/h"}),Object(j.jsx)(Se,{property:"Time",value:new Date(o).toISOString().substr(11,8)})]})},ye=v.a.div(C||(C=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  height: 15%;\n  flex-wrap: wrap;\n"]))),ke=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Ee,{}),Object(j.jsx)(se,{}),Object(j.jsx)(pe,{})]})},Ae=n(30),Te=n(31),Ce=function(e){var t=e.children,n=Object(r.useState)(),c=Object(l.a)(n,2),i=c[0],o=c[1],a=Object(r.useState)(!1),s=Object(l.a)(a,2),u=s[0],d=s[1];return Object(j.jsx)(Le,{onTouchStart:function(e){o(e.targetTouches[0].clientX)},onTouchMove:function(e){var t=e.targetTouches[0].clientX;i-t>50&&d(!0),i-t<-50&&d(!1)},isActive:u,children:u&&t})},Le=v.a.div(L||(L=Object(s.a)(["\n  /*\n  display: ",";\n*/\n  display: flex;\n  color: white;\n  width: inherit;\n  height: 100%;\n  z-index: ",";\n  position: absolute;\n  top: 0;\n  left: 0;\n  border-radius: 5px;\n  background-color: ",";\n  font-size: ",";\n  justify-content: center;\n  align-items: center;\n"])),(function(e){return e.isActive?"block":"none"}),(function(e){return e.isActive?50:30}),(function(e){return e.isActive?"rgba(52, 58, 64, 0.9)":"rgba(52, 58, 64, 0)"}),b.FONT_SIZE_LARGER),De=n(59);!function(e){e.ROOT="/",e.NEW="/new",e.RUNS="/runs",e.DETAIL="/runs/:runId"}(D||(D={}));var Fe,Me,Ge,ze,Ue,Pe,Ze,He,Ke,Be,We,Je,Ye,Ve,Xe,qe,Qe,$e,et=function(e){var t=e.run,n=e.deleteCallback,c=$();return Object(j.jsxs)(rt,{children:[Object(j.jsx)(Ce,{children:Object(j.jsx)(Ae.a,{onClick:function(){return n(t.runId)},icon:Te.i})}),Object(j.jsxs)(ot,{className:"basicMap",center:function(e){var t=e.track.trackPoints[0];return new ce.LatLng(t.latitude,t.longitude)}(t),zoom:20,dragging:!1,zoomControl:!1,children:[Object(j.jsx)(Y.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png"}),Object(j.jsx)(X.a,{positions:c.track2Polygon(t.track.trackPoints)})]}),Object(j.jsxs)(it,{children:[Object(j.jsxs)(nt,{children:[Object(j.jsx)(Ae.a,{icon:Te.b}),Object(j.jsx)(ct,{children:new Date(t.startTime).toDateString()})]}),Object(j.jsxs)(nt,{children:[Object(j.jsx)(Ae.a,{icon:Te.c}),Object(j.jsx)(ct,{children:new Date(t.endTime-t.startTime).toISOString().substr(11,8)})]}),Object(j.jsxs)(nt,{children:[Object(j.jsx)(Ae.a,{icon:Te.g}),Object(j.jsx)(ct,{children:t.track.distances.map((function(e){return e.distance})).reduce((function(e,t){return e+t})).toFixed(1)+" km"})]}),Object(j.jsx)(tt,{to:D.RUNS+"/"+t.runId,children:"Details"})]})]})},tt=Object(v.a)(De.b)(F||(F=Object(s.a)(["\n  text-align: center;\n  max-width: 150px;\n  background-color: ",";\n  color: #282c34;\n  border: none;\n  border-radius: 5px;\n  box-shadow: 5px 5px 10px #282c34;\n  &:active {\n    box-shadow: 0 0;\n  }\n  z-index: 40;\n"])),b.BACKGROUND_COLOR_SECOND),nt=v.a.div(M||(M=Object(s.a)(["\n  color: white;\n  font-size: ",";\n  font-family: ",";\n  display: inline-flex;\n  margin: 5px;\n"])),b.FONT_SIZE_NORMAL,b.FONT_FAMILY_MAIN),ct=v.a.div(G||(G=Object(s.a)(["\n  margin-left: 10px;\n"]))),rt=v.a.div(z||(z=Object(s.a)(["\n  position: relative;\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  box-shadow: 5px 5px 5px #282c34;\n  border-radius: 5px;\n  margin-bottom: 15px;\n  cursor: pointer;\n"]))),it=v.a.div(U||(U=Object(s.a)(["\n  width: 50%;\n  padding-left: 5px;\n  display: flex;\n  flex-direction: column;\n"]))),ot=Object(v.a)(V.a)(P||(P=Object(s.a)(["\n  width: 130px;\n  height: 130px;\n  border-radius: 8px;\n  border: none;\n  margin: 5px;\n  z-index: 0;\n"]))),at=function(e){var t=e.n,n=e.setOuterStartIndex,c=e.setOuterEndIndex,i=Object(r.useState)(3),o=Object(l.a)(i,2),a=o[0],s=(o[1],Object(r.useState)(0)),u=Object(l.a)(s,2),d=(u[0],u[1]),O=Object(r.useState)(a),b=Object(l.a)(O,2),x=(b[0],b[1]),f=Object(r.useState)(Math.ceil(t/a)),h=Object(l.a)(f,2),p=h[0],g=(h[1],Object(r.useState)(1)),v=Object(l.a)(g,2),m=v[0],R=v[1];Object(r.useEffect)((function(){var e=(m-1)*a,r=e+a>t?t:e+a;d(e),n(e),x(r),c(r)}),[a,m]);var S=function(e){R(N(m+e))},N=function(e){return e>p&&(e=p),e<1&&(e=1),e};return Object(j.jsxs)(jt,{children:[Object(j.jsx)(st,{onClick:function(){return S(-1)},children:"<"}),Object(j.jsx)(lt,{onChange:function(e){R(N(+e.currentTarget.value))},value:m}),Object(j.jsxs)(ut,{children:[" / ",p]}),Object(j.jsx)(st,{onClick:function(){return S(1)},children:">"})]})},st=v.a.button(Fe||(Fe=Object(s.a)(["\n  background-color: #343a40;\n  color: white;\n  border: 1px white;\n"]))),ut=v.a.div(Me||(Me=Object(s.a)(["\n  font-size: inherit;\n  width: 30px;\n  padding: 2px 5px;\n"]))),lt=v.a.input(Ge||(Ge=Object(s.a)(["\n  width: 25px;\n  text-align: center;\n  font-size: inherit;\n"]))),jt=v.a.div(ze||(ze=Object(s.a)(["\n  color: white;\n  display: flex;\n  font-size: ",";\n  float: right;\n  margin-bottom: 10px;\n"])),b.FONT_SIZE_NORMAL),dt=function(){var e=Object(r.useContext)(d),t=e.runs,n=e.setRuns,c=Object(r.useState)(),i=Object(l.a)(c,2),o=i[0],a=i[1],s=Object(r.useState)(),u=Object(l.a)(s,2),O=u[0],b=u[1],x=function(e){n(t.filter((function(t){return t.runId!=e})))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(at,{n:t.length,setOuterStartIndex:a,setOuterEndIndex:b}),t.slice(o,O).map((function(e){return Object(j.jsx)(et,{run:e,deleteCallback:x},e.runId)}))]})},Ot=n(13),bt=function(){var e=Object(r.useContext)(d),t=e.setRunner,n=e.setRuns,c=e.runs,i=Oe(),o=g();Object(r.useEffect)((function(){a()}),[c]);var a=function(){i.saveRuns(c)};return{initRuns:function(){n(i.getAllRuns())},initRunner:function(){t(o.getRunner())},removeRunner:function(){t(void 0),o.removeRunner()},deleteAll:function(){i.deleteRuns()}}},xt=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],i=bt();return Object(j.jsxs)(ft,{onClick:function(){return c(!n)},children:[Object(j.jsx)(Ae.a,{icon:Te.a}),Object(j.jsxs)(ht,{show:n,children:[Object(j.jsx)(pt,{onClick:function(){return i.deleteAll()},children:"Forget"}),Object(j.jsx)(pt,{onClick:function(){return i.removeRunner()},children:"Logout"})]})]})},ft=v.a.div(Ue||(Ue=Object(s.a)(["\n  padding-top: 5px;\n  position: relative;\n  display: inline-block;\n  color: white;\n  font-size: ",";\n"])),b.FONT_SIZE_LARGER),ht=v.a.div(Pe||(Pe=Object(s.a)(["\n  color: white;\n  background-color: ",";\n  display: ",";\n  position: absolute;\n  z-index: 500;\n  right: -200%;\n  box-shadow: 0px 0px 10px #282c34;\n  width: 100px;\n"])),b.BACKGROUND_COLOR_MAIN,(function(e){return e.show?"block":"none"})),pt=v.a.div(Ze||(Ze=Object(s.a)(["\n  text-align: center;\n  font-size: ",";\n  border: none;\n  cursor: pointer;\n  &:hover {\n    background-color: inherit;\n    color: white;\n  }\n"])),b.FONT_SIZE_LARGER),gt=function(){return Object(j.jsxs)(vt,{children:[Object(j.jsx)(mt,{children:"Places"}),Object(j.jsx)(xt,{})]})},vt=v.a.div(He||(He=Object(s.a)(["\n  width: 100%;\n  height: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  padding: 10px 40px 5px 10px;\n"])),b.HEADER_HEIGHT),mt=v.a.h2(Ke||(Ke=Object(s.a)(["\n  color: #eee;\n  font-family: ",";\n  font-size: ",";\n  font-weight: bold;\n  line-height: 48px;\n  padding: 0 5px;\n  text-transform: uppercase;\n  min-width: 200px;\n"])),b.FONT_FAMILY_MAIN,b.FONT_SIZE_LARGE),Rt=function(){var e=Object(r.useContext)(d).runner;return Object(j.jsx)(Nt,{children:Object(j.jsxs)(St,{children:["Willkommen",Object(j.jsx)("br",{}),e.runnerName]})})},St=v.a.h3(Be||(Be=Object(s.a)(["\n  font-family: ",";\n  text-align: center;\n  font-size: ",";\n  color: white;\n"])),b.FONT_FAMILY_MAIN,b.FONT_SIZE_LARGE),Nt=v.a.div(We||(We=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 10% 0 0 0;\n"]))),wt=function(){return Object(j.jsxs)(It,{children:[Object(j.jsx)(Et,{children:Object(j.jsx)(_t,{to:D.ROOT,children:Object(j.jsx)(Ae.a,{icon:Te.e})})}),Object(j.jsx)(Et,{children:Object(j.jsx)(_t,{to:D.NEW,children:Object(j.jsx)(Ae.a,{icon:Te.f})})}),Object(j.jsx)(Et,{children:Object(j.jsx)(_t,{to:D.RUNS,children:Object(j.jsx)(Ae.a,{icon:Te.h})})}),Object(j.jsx)(Et,{children:Object(j.jsx)(Ae.a,{icon:Te.j})}),Object(j.jsx)(Et,{children:Object(j.jsx)(Ae.a,{icon:Te.d})})]})},_t=Object(v.a)(De.b)(Je||(Je=Object(s.a)(["\n  color: inherit;\n  font-size: inherit;\n  &:hover {\n    color: white;\n    background-color: inherit;\n  }\n  &:focus {\n    color: white;\n  }\n"]))),It=v.a.div(Ye||(Ye=Object(s.a)(["\n  background-color: #282c34;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  display: flex;\n  flex-wrap: nowrap;\n  z-index: 1000;\n"]))),Et=v.a.button(Ve||(Ve=Object(s.a)(["\n  height: ",";\n  width: 20%;\n  display: block;\n  color: #888;\n  text-align: center;\n  padding: 14px 16px;\n  text-decoration: none;\n  font-size: ",";\n  border: none;\n  background-color: inherit;\n"])),b.BOTTOM_NAVIGATION_HEIGHT,b.FONT_SIZE_LARGER),yt=n(389),kt=n(390),At=n(200),Tt=n(90),Ct=n(393),Lt=n(201),Dt=n(203),Ft=n(87),Mt=n(185),Gt=function e(t,n,c){Object(Mt.a)(this,e),this.dataKey=t,this.name=n,this.displayName=c};Gt.DISTANCE=new Gt("distance","distance [km]","Distance"),Gt.SPEED=new Gt("speed","speed [km/h]","Speed"),Gt.ALTITUDE=new Gt("altitude","altitude [m]","Altitude");var zt,Ut,Pt,Zt,Ht,Kt=function(e){var t=e.dataOptions,n=e.setData,c=e.title,i=Object(r.useState)(!1),o=Object(l.a)(i,2),a=o[0],s=o[1],u=function(e){var c=function(e){var n=t.filter((function(t){return t.displayName===e}))[0];if(!n)throw new Error("No suitable Option found");return n}(e.target.textContent);n(c),s(!a)};return Object(j.jsxs)(Bt,{onClick:function(){return s(!a)},children:[Object(j.jsx)(Wt,{children:c}),a&&Object(j.jsx)(Jt,{children:t.map((function(e,t){return Object(j.jsx)(Yt,{onClick:u,children:e.displayName},t)}))})]})},Bt=v.a.div(Xe||(Xe=Object(s.a)([""]))),Wt=v.a.div(qe||(qe=Object(s.a)(["\n  color: black;\n  font-size: ",";\n  background-color: ",";\n  padding: 5px;\n  border-radius: 5px;\n  cursor: pointer;\n"])),b.FONT_SIZE_NORMAL,b.BACKGROUND_COLOR_SECOND),Jt=v.a.ul(Qe||(Qe=Object(s.a)(["\n  list-style-type: none;\n"]))),Yt=v.a.li($e||($e=Object(s.a)(["\n  cursor: pointer;\n  background-color: black;\n  color: white;\n  padding: 5px;\n  border-radius: 5px;\n"]))),Vt=function(e){var t=e.dataOptions,n=e.setDataLeft,c=e.setDataRight;return Object(j.jsxs)(Xt,{children:[Object(j.jsx)(Kt,{dataOptions:t,setData:n,title:"Links"}),Object(j.jsx)(Kt,{dataOptions:t,setData:c,title:"Rechts"})]})},Xt=v.a.div(zt||(zt=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  gap: 20px;\n"]))),qt=function(e){for(var t=e.run,n=[Gt.DISTANCE,Gt.SPEED,Gt.ALTITUDE],c=Object(r.useState)(n[0]),i=Object(l.a)(c,2),o=i[0],a=i[1],s=Object(r.useState)(n[1]),u=Object(l.a)(s,2),d=u[0],O=u[1],x=function(e){return e.map((t=0,function(e){return t+=e}));var t},f=[],h=0;h<t.track.distances.length;h++){var p,g;f.push({time:new Date(t.track.trackPoints[h].time-t.startTime).toISOString().slice(12,19),distance:x(t.track.distances.map((function(e){return e.distance})))[h],speed:null===(p=t.track.trackPoints[h].speed)||void 0===p?void 0:p.toFixed(1),altitude:null===(g=t.track.trackPoints[h].altitude)||void 0===g?void 0:g.toFixed(1)})}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(yt.a,{width:"100%",height:"30%",minHeight:"200px",children:Object(j.jsxs)(kt.a,{data:f,children:[Object(j.jsxs)("defs",{children:[Object(j.jsxs)("linearGradient",{id:"colorDistance",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(j.jsx)("stop",{offset:"5%",stopColor:b.BACKGROUND_COLOR_SECOND,stopOpacity:.8}),Object(j.jsx)("stop",{offset:"95%",stopColor:b.BACKGROUND_COLOR_SECOND,stopOpacity:0})]}),Object(j.jsxs)("linearGradient",{id:"colorSpeed",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(j.jsx)("stop",{offset:"5%",stopColor:"#ff8c00",stopOpacity:.8}),Object(j.jsx)("stop",{offset:"95%",stopColor:"#ff8c00",stopOpacity:0})]})]}),Object(j.jsx)(At.a,{dataKey:"time",stroke:"#fff",interval:"preserveStartEnd",tick:{fontSize:b.FONT_SIZE_NORMAL},dy:10}),Object(j.jsx)(Tt.a,{contentStyle:{borderRadius:"10px",opacity:.5,maxHeight:"fit-content"}}),Object(j.jsx)(Ct.a,{stroke:"#666",vertical:!1,strokeDasharray:"3 3"}),Object(j.jsx)(Lt.a,{from:0,yAxisId:"left",type:"number",dataKey:o.dataKey,name:o.name,orientation:"left",stroke:b.BACKGROUND_COLOR_SECOND,dx:-5,style:{fontSize:b.FONT_SIZE_SMALL},interval:"preserveStartEnd"}),Object(j.jsx)(Dt.a,{type:"monotone",dataKey:o.dataKey,name:o.name,stroke:b.BACKGROUND_COLOR_SECOND,fillOpacity:1,fill:"url(#colorDistance)",yAxisId:"left"}),Object(j.jsx)(Lt.a,{from:0,yAxisId:"right",type:"number",dataKey:d.dataKey,name:d.name,orientation:"right",stroke:"#ff8c00",dx:5,style:{fontSize:b.FONT_SIZE_SMALL},interval:"preserveStartEnd"}),Object(j.jsx)(Dt.a,{type:"monotone",dataKey:d.dataKey,name:d.name,stroke:"#ff8c00",fillOpacity:1,fill:"url(#colorSpeed)",yAxisId:"right"}),Object(j.jsx)(Ft.a,{})]})}),Object(j.jsx)(Vt,{dataOptions:n,setDataLeft:a,setDataRight:O})]})},Qt=function(){var e=Object(Ot.g)().runId,t=Oe(),n=Object(r.useMemo)((function(){return t.getRun(e)}),[e]);return n?Object(j.jsxs)(en,{children:[Object(j.jsx)($t,{children:new Date(n.startTime).toISOString().slice(0,10)}),Object(j.jsx)(qt,{run:n})]}):Object(j.jsx)("div",{children:"No run found"})},$t=v.a.h1(Ut||(Ut=Object(s.a)(["\n  color: white;\n  font-weight: bold;\n  font-family: ",";\n  font-size: ",";\n"])),b.FONT_FAMILY_MAIN,b.FONT_SIZE_LARGER),en=v.a.div(Pt||(Pt=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: start;\n  height: 100%;\n  width: 100%;\n"])));var tn=v.a.div(Zt||(Zt=Object(s.a)(["\n  width: 100vw;\n  height: 100vh - ",";\n"])),b.BOTTOM_NAVIGATION_HEIGHT),nn=v.a.div(Ht||(Ht=Object(s.a)(["\n  height: calc(\n    100vh - "," - ","\n  );\n  width: 100%;\n"])),b.BOTTOM_NAVIGATION_HEIGHT,b.HEADER_HEIGHT),cn=function(){var e=Object(r.useContext)(d).runner,t=bt();return Object(r.useEffect)((function(){t.initRuns(),t.initRunner()}),[]),e?Object(j.jsxs)(tn,{children:[Object(j.jsx)(gt,{}),Object(j.jsx)(nn,{children:Object(j.jsxs)(Ot.c,{children:[Object(j.jsx)(Ot.a,{path:D.ROOT,element:Object(j.jsx)(Rt,{})}),Object(j.jsx)(Ot.a,{path:D.NEW,element:Object(j.jsx)(ke,{})}),Object(j.jsx)(Ot.a,{path:D.RUNS,element:Object(j.jsx)(dt,{})}),Object(j.jsx)(Ot.a,{path:D.DETAIL,element:Object(j.jsx)(Qt,{})})]})}),Object(j.jsx)(wt,{})]}):Object(j.jsx)(tn,{children:Object(j.jsx)(Z,{})})},rn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,398)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),i(e),o(e)}))};a.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(O,{children:Object(j.jsx)(de,{children:Object(j.jsx)(De.a,{children:Object(j.jsx)(cn,{})})})})}),document.getElementById("root")),rn()}},[[380,1,2]]]);
//# sourceMappingURL=main.dbef4fe0.chunk.js.map