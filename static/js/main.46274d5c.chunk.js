(this["webpackJsonprun-zone-ts"]=this["webpackJsonprun-zone-ts"]||[]).push([[0],{390:function(e,n,t){},391:function(e,n,t){},638:function(e,n,t){"use strict";t.r(n);var r,c,i,o,a,s,u,l,d,j,O,b,x,f,h,p,g,v,m,R,S,w,N,_,I,k,E,A,T,y,C,L,D,F,M,G,z,U,P,Z=t(14),H=t(23),K=t(0),B=t.n(K),W=t(61),J=t.n(W),Y=(t(390),t(10)),V=(t(391),t(25)),q=t(6),X=t(1),Q=Object(K.createContext)({runner:void 0,runs:[],setRunner:function(e){},setRuns:function(e){},addRun:function(e){}}),$=function(e){var n=e.children,t=Object(K.useState)([]),r=Object(q.a)(t,2),c=r[0],i=r[1],o=Object(K.useState)(),a=Object(q.a)(o,2),s=a[0],u=a[1];return Object(X.jsx)(Q.Provider,{value:{runner:s,setRunner:u,runs:c,setRuns:i,addRun:function(e){i((function(n){return n.length>0?[].concat(Object(V.a)(n),[e]):[e]}))}},children:n})},ee=function(e){return e.RUNNER="runner",e.RUNS="runs",e}({}),ne=function(){return{getRunner:function(){var e=localStorage.getItem(ee.RUNNER);return e?JSON.parse(e):void 0},setRunner:function(e){localStorage.setItem(ee.RUNNER,JSON.stringify(e))},removeRunner:function(){localStorage.removeItem(ee.RUNNER)}}},te=t(11),re=function(e){return e.FONT_FAMILY_MAIN="Open Sans Condensed, sans-serif",e.BACKGROUND_COLOR_MAIN="#343a40",e.BACKGROUND_COLOR_SECOND="#5f9ea0",e.BACKGROUND_COLOR_THIRD="#ff8c00",e.FONT_SIZE_SMALL="0.75rem",e.FONT_SIZE_NORMAL="1rem",e.FONT_SIZE_LARGER="1.25rem",e.FONT_SIZE_LARGE="1.5rem",e.BOTTOM_NAVIGATION_HEIGHT="4rem",e.MAP_HEIGHT_SIZE="60%",e.HEADER_HEIGHT="4rem",e}({}),ce=function(e){var n=Object(K.useState)(""),t=Object(q.a)(n,2),r=t[0],c=t[1],i=ne(),o=Object(K.useContext)(Q).setRunner;return Object(X.jsxs)(oe,{children:[Object(X.jsx)(ie,{children:"Willkommen!"}),Object(X.jsx)(ae,{type:"text",onChange:function(e){c(e.target.value)},value:r,placeholder:"Wie hei\xdft du?"}),Object(X.jsx)(se,{onClick:function(){console.log("Login "+r);var e={runnerName:r,runnerRunIds:[]};i.setRunner(e),o(e)},children:"Login"})]})},ie=te.a.h3(r||(r=Object(Y.a)(["\n  font-family: ",";\n  font-size: ",";\n  text-transform: uppercase;\n  color: #343a40;\n  font-weight: bold;\n  margin: 0 0 30% 0;\n"])),re.FONT_FAMILY_MAIN,re.FONT_SIZE_LARGER),oe=te.a.div(c||(c=Object(Y.a)(["\n  width: 20%;\n  min-width: 300px;\n  height: 80%;\n  min-height: 500px;\n  background-color: aliceblue;\n  border-radius: 10px;\n  box-shadow: 10px 10px #282c34;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: 10% auto auto auto;\n"]))),ae=te.a.input(i||(i=Object(Y.a)(["\n  width: 70%;\n  height: 40px;\n  border: none;\n  border-radius: 10px;\n  margin: 5px;\n  text-align: center;\n"]))),se=te.a.button(o||(o=Object(Y.a)(["\n  width: 70%;\n  height: 50px;\n  background-color: #343a40;\n  color: white;\n  border-radius: 10px;\n  margin: 5px;\n"]))),ue=t(303),le=t(649),de=t(645),je=t(642),Oe=t(27),be=t(184),xe=function(){return{calcArea:function(e){var n=e.map((function(e){return[e.latitude,e.longitude]})),t=Object(be.polygon)([n]);return Object(be.area)(t)/1e6},track2Polygon:function(e){return e.map((function(e){return[e.latitude,e.longitude]}))},calcDistance:function(e,n){var t=new Oe.LatLng(e.latitude,e.longitude),r=new Oe.LatLng(n.latitude,n.longitude);return t.distanceTo(r)}}},fe=function(e){var n=e.runs,t=xe();return Object(X.jsx)(X.Fragment,{children:n.map((function(e,n){return Object(X.jsx)(je.a,{positions:t.track2Polygon(e.track.trackPoints)})}))})},he=t(643),pe=t(644),ge=t(648),ve=function(){return{observeMeasurement:new ge.a((function(e){navigator.geolocation.watchPosition((function(n){var t=new Oe.LatLng(n.coords.latitude,n.coords.longitude),r=n.coords.speed?3.6*n.coords.speed:void 0,c=n.coords.altitude?n.coords.altitude:void 0;e.next({position:t,speed:r,altitude:c})}),(function(e){return console.error(e)}),{enableHighAccuracy:!0})}))}},me=function(){var e=Object(K.useState)(),n=Object(q.a)(e,2),t=n[0],r=n[1],c=Object(K.useState)(),i=Object(q.a)(c,2),o=i[0],a=i[1],s=Object(he.a)(),u=ve();return Object(K.useEffect)((function(){return a(u.observeMeasurement.subscribe((function(e){var n=new Oe.LatLng(e.position.lat,e.position.lng);r(n),s.setView(n)}))),function(){o&&o.unsubscribe()}}),[]),Object(X.jsx)(X.Fragment,{children:t&&Object(X.jsx)(pe.a,{position:t})})},Re=function(e){var n=e.setShowRuns;return Object(X.jsx)("div",{className:"leaflet-top leaflet-right",children:Object(X.jsx)("div",{className:"leaflet-control",children:Object(X.jsx)("button",{onClick:function(){return n((function(e){return!e}))},children:"Show Runs"})})})},Se=function(e){Object(ue.a)(e);var n=Object(K.useContext)(Q).runs,t=Object(K.useState)(!1),r=Object(q.a)(t,2),c=r[0],i=r[1];return Object(X.jsxs)(we,{className:"basicMap",center:[0,0],zoom:20,scrollWheelZoom:!1,children:[Object(X.jsx)(le.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png"}),c&&Object(X.jsx)(fe,{runs:n}),Object(X.jsx)(me,{}),Object(X.jsx)(Re,{setShowRuns:i})]})},we=Object(te.a)(de.a)(a||(a=Object(Y.a)(["\n  width: 100%;\n  height: 75%;\n"]))),Ne=t(304),_e=Object(K.createContext)({}),Ie=function(e){var n=e.children,t=Object(K.useState)(),r=Object(q.a)(t,2),c=r[0],i=r[1],o=Object(K.useState)(),a=Object(q.a)(o,2),s=a[0],u=a[1],l=Object(K.useState)([]),d=Object(q.a)(l,2),j=d[0],O=d[1],b=Object(K.useState)([]),x=Object(q.a)(b,2),f=x[0],h=x[1],p=Object(K.useState)(),g=Object(q.a)(p,2),v=g[0],m=g[1],R=Object(K.useState)(!1),S=Object(q.a)(R,2),w=S[0],N=S[1],_=xe(),I=ve();Object(K.useEffect)((function(){w?i(I.observeMeasurement.subscribe((function(e){return E(k(e))}))):c&&c.unsubscribe()}),[w]),Object(K.useEffect)((function(){if(j.length>0){var e=j.length>1?_.calcDistance(j[j.length-2],j[j.length-1])/1e3:0;h((function(n){return[].concat(Object(V.a)(n),[{distance:e}])}))}}),[j]);var k=function(e){return{latitude:e.position.lat,longitude:e.position.lng,altitude:e.altitude,speed:e.speed,time:Date.now()}},E=function(e){console.log("Add TrackPoint: ",e),O((function(n){return[].concat(Object(V.a)(n),[e])}))};return Object(X.jsx)(_e.Provider,{value:{startTime:s,isRunning:w,setIsRunning:N,run:v,startRun:function(){"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage("whatuuup"),console.log("Start Run"),!s&&u(Date.now()),N(!0)},stopRun:function(){if(console.log("Stop Run"),0===j.length)return Promise.resolve(void 0);var e={trackPoints:j,distances:f},n={runId:Object(Ne.uuid)(),track:e,startTime:s||Date.now(),endTime:Date.now()};return m(n),N(!1),O([]),u(void 0),h([]),Promise.resolve(n)},pauseRun:function(){console.log("Pause Run"),N(!1)},addTrackPoint:E,resetRun:function(){m(void 0),u(void 0),O([])}},children:n})},ke=function(){var e=localStorage.getItem(ee.RUNS),n=e?JSON.parse(e):[];return{saveRuns:function(e){localStorage.setItem(ee.RUNS,JSON.stringify(e))},getAllRuns:function(){return n},deleteRuns:function(){localStorage.removeItem(ee.RUNS),localStorage.removeItem(ee.RUNNER)},getRun:function(e){return n.filter((function(n){return n.runId===e})).pop()}}},Ee=function(e){var n=e.show,t=e.setShow;return Object(X.jsxs)(ye,{show:n,children:[Object(X.jsx)(Ae,{children:"Strecke gespeichert!"}),Object(X.jsx)(Te,{onClick:function(){return t(!1)},children:"Nice"})]})},Ae=te.a.div(s||(s=Object(Y.a)(["\n  margin-left: auto;\n  margin-right: auto;\n  color: white;\n  width: 100%;\n  text-align: center;\n  padding: 2px 0 10px 0;\n"]))),Te=te.a.div(u||(u=Object(Y.a)(["\n  border-radius: 5px;\n  margin-left: auto;\n  margin-right: auto;\n  text-align: center;\n  width: 30vw;\n  color: black;\n  background-color: ",";\n"])),re.BACKGROUND_COLOR_SECOND),ye=te.a.div(l||(l=Object(Y.a)(["\n  width: 70vw;\n  border-radius: 5px;\n  border: 1px solid black;\n  position: absolute;\n  background-color: #343a40;\n  color: white;\n  top: 50%;\n  left: calc(50% - 70vw * 0.5);\n  visibility: ",";\n  z-index: 500;\n  padding: 8px 10px;\n  font-weight: bolder;\n  font-size: ",";\n"])),(function(e){return e.show?"visible":"hidden"}),re.FONT_SIZE_NORMAL),Ce=function(){var e=Object(K.useState)(!1),n=Object(q.a)(e,2),t=n[0],r=n[1],c=Object(K.useContext)(_e),i=(c.addTrackPoint,c.startRun),o=c.stopRun,a=c.pauseRun,s=c.isRunning,u=Object(K.useContext)(Q),l=u.addRun,d=u.runs,j=ke();return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(Le,{children:[Object(X.jsx)(Fe,{onClick:function(){s?a():i()},children:s?"Pause":"Start"}),Object(X.jsx)(Me,{onClick:function(){o().then((function(e){console.log("Save run"),e&&(d.length>0?j.saveRuns([].concat(Object(V.a)(d),[e])):j.saveRuns([e]),l(e),r(!0))}))},children:"End"})]}),Object(X.jsx)(Ee,{show:t,setShow:r})]})},Le=te.a.div(d||(d=Object(Y.a)(["\n  width: 100%;\n  height: 10%;\n  color: black;\n  display: flex;\n  text-align: center;\n  justify-content: space-between;\n"]))),De=te.a.button(j||(j=Object(Y.a)(["\n  background-color: ",";\n  font-size: ",";\n  color: inherit;\n  border: none;\n  padding: 10px 0;\n  font-weight: bolder;\n  &:focus {\n    outline: none;\n  }\n"])),re.BACKGROUND_COLOR_SECOND,re.FONT_SIZE_NORMAL),Fe=Object(te.a)(De)(O||(O=Object(Y.a)(["\n  width: 65%;\n"]))),Me=Object(te.a)(De)(b||(b=Object(Y.a)(["\n  width: 35%;\n"]))),Ge=function(e){var n=e.property,t=e.value;return Object(X.jsxs)(ze,{children:[Object(X.jsx)(Pe,{children:n}),Object(X.jsx)(Ze,{children:t})]})},ze=te.a.div(x||(x=Object(Y.a)(["\n  width: 50%;\n  min-width: 120px;\n  background-color: ",";\n  padding: 10px;\n"])),re.BACKGROUND_COLOR_SECOND),Ue=te.a.div(f||(f=Object(Y.a)(["\n  font-family: Open Sans Condensed, sans-serif;\n  font-weight: bolder;\n  color: black;\n"]))),Pe=Object(te.a)(Ue)(h||(h=Object(Y.a)(["\n  font-size: ",";\n"])),re.FONT_SIZE_LARGER),Ze=Object(te.a)(Ue)(p||(p=Object(Y.a)(["\n  font-size: ",";\n"])),re.FONT_SIZE_LARGER),He=function(){var e=Object(K.useContext)(_e),n=e.startTime,t=e.isRunning,r=Object(K.useState)(0),c=Object(q.a)(r,2),i=c[0],o=c[1],a=Object(K.useState)(0),s=Object(q.a)(a,2),u=s[0],l=s[1],d=Object(K.useState)(),j=Object(q.a)(d,2),O=j[0],b=j[1],x=Object(K.useState)(),f=Object(q.a)(x,2),h=f[0],p=f[1],g=ve();return Object(K.useEffect)((function(){if(t){p(g.observeMeasurement.subscribe((function(e){return e.speed&&l(e.speed)})));var e=setInterval((function(){n&&o(Date.now()-n)}),1e3);b(e)}else h&&h.unsubscribe(),O&&clearInterval(O),o(0)}),[t]),Object(X.jsxs)(Ke,{children:[Object(X.jsx)(Ge,{property:"Speed",value:u.toFixed(1)+" km/h"}),Object(X.jsx)(Ge,{property:"Time",value:new Date(i).toISOString().substr(11,8)})]})},Ke=te.a.div(g||(g=Object(Y.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  height: 15%;\n  flex-wrap: wrap;\n"]))),Be=function(){return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(He,{}),Object(X.jsx)(Se,{}),Object(X.jsx)(Ce,{})]})},We=t(35),Je=t(36),Ye=function(e){var n=e.children,t=Object(K.useState)(),r=Object(q.a)(t,2),c=r[0],i=r[1],o=Object(K.useState)(!1),a=Object(q.a)(o,2),s=a[0],u=a[1];return Object(X.jsx)(Ve,{onTouchStart:function(e){i(e.targetTouches[0].clientX)},onTouchMove:function(e){var n=e.targetTouches[0].clientX;c-n>50&&u(!0),c-n<-50&&u(!1)},isActive:s,children:s&&n})},Ve=te.a.div(v||(v=Object(Y.a)(["\n  /*\n  display: ",";\n*/\n  display: flex;\n  color: white;\n  width: inherit;\n  height: 100%;\n  z-index: ",";\n  position: absolute;\n  top: 0;\n  left: 0;\n  border-radius: 5px;\n  background-color: ",";\n  font-size: ",";\n  justify-content: center;\n  align-items: center;\n"])),(function(e){return e.isActive?"block":"none"}),(function(e){return e.isActive?50:30}),(function(e){return e.isActive?"rgba(52, 58, 64, 0.9)":"rgba(52, 58, 64, 0)"}),re.FONT_SIZE_LARGER),qe=t(68),Xe=function(e){return e.ROOT="/",e.NEW="/new",e.RUNS="/runs",e.DETAIL="/runs/:runId",e}({}),Qe=function(e){var n=e.run,t=e.deleteCallback,r=xe();return Object(X.jsxs)(tn,{children:[Object(X.jsx)(Ye,{children:Object(X.jsx)(We.a,{onClick:function(){return t(n.runId)},icon:Je.i})}),Object(X.jsxs)(cn,{className:"basicMap",center:function(e){var n=e.track.trackPoints[0];return new Oe.LatLng(n.latitude,n.longitude)}(n),zoom:20,dragging:!1,zoomControl:!1,children:[Object(X.jsx)(le.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png"}),Object(X.jsx)(je.a,{positions:r.track2Polygon(n.track.trackPoints)})]}),Object(X.jsxs)(rn,{children:[Object(X.jsxs)(en,{children:[Object(X.jsx)(We.a,{icon:Je.b}),Object(X.jsx)(nn,{children:new Date(n.startTime).toDateString()})]}),Object(X.jsxs)(en,{children:[Object(X.jsx)(We.a,{icon:Je.c}),Object(X.jsx)(nn,{children:new Date(n.endTime-n.startTime).toISOString().substr(11,8)})]}),Object(X.jsxs)(en,{children:[Object(X.jsx)(We.a,{icon:Je.g}),Object(X.jsx)(nn,{children:n.track.distances.map((function(e){return e.distance})).reduce((function(e,n){return e+n})).toFixed(1)+" km"})]}),Object(X.jsx)($e,{to:Xe.RUNS+"/"+n.runId,children:"Details"})]})]})},$e=Object(te.a)(qe.b)(m||(m=Object(Y.a)(["\n  text-align: center;\n  max-width: 150px;\n  background-color: ",";\n  color: #282c34;\n  border: none;\n  border-radius: 5px;\n  box-shadow: 5px 5px 10px #282c34;\n  &:active {\n    box-shadow: 0 0;\n  }\n  z-index: 40;\n"])),re.BACKGROUND_COLOR_SECOND),en=te.a.div(R||(R=Object(Y.a)(["\n  color: white;\n  font-size: ",";\n  font-family: ",";\n  display: inline-flex;\n  margin: 5px;\n"])),re.FONT_SIZE_NORMAL,re.FONT_FAMILY_MAIN),nn=te.a.div(S||(S=Object(Y.a)(["\n  margin-left: 10px;\n"]))),tn=te.a.div(w||(w=Object(Y.a)(["\n  position: relative;\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  box-shadow: 5px 5px 5px #282c34;\n  border-radius: 5px;\n  margin-bottom: 15px;\n  cursor: pointer;\n"]))),rn=te.a.div(N||(N=Object(Y.a)(["\n  width: 50%;\n  padding-left: 5px;\n  display: flex;\n  flex-direction: column;\n"]))),cn=Object(te.a)(de.a)(_||(_=Object(Y.a)(["\n  width: 130px;\n  height: 130px;\n  border-radius: 8px;\n  border: none;\n  margin: 5px;\n  z-index: 0;\n"]))),on=function(e){var n=e.n,t=e.setOuterStartIndex,r=e.setOuterEndIndex,c=Object(K.useState)(3),i=Object(q.a)(c,2),o=i[0],a=(i[1],Object(K.useState)(0)),s=Object(q.a)(a,2),u=(s[0],s[1]),l=Object(K.useState)(o),d=Object(q.a)(l,2),j=(d[0],d[1]),O=Object(K.useState)(Math.ceil(n/o)),b=Object(q.a)(O,2),x=b[0],f=(b[1],Object(K.useState)(1)),h=Object(q.a)(f,2),p=h[0],g=h[1];Object(K.useEffect)((function(){var e=(p-1)*o,c=e+o>n?n:e+o;u(e),t(e),j(c),r(c)}),[o,p]);var v=function(e){g(m(p+e))},m=function(e){return e>x&&(e=x),e<1&&(e=1),e};return Object(X.jsxs)(ln,{children:[Object(X.jsx)(an,{onClick:function(){return v(-1)},children:"<"}),Object(X.jsx)(un,{onChange:function(e){g(m(+e.currentTarget.value))},value:p}),Object(X.jsxs)(sn,{children:[" / ",x]}),Object(X.jsx)(an,{onClick:function(){return v(1)},children:">"})]})},an=te.a.button(I||(I=Object(Y.a)(["\n  background-color: #343a40;\n  color: white;\n  border: 1px white;\n"]))),sn=te.a.div(k||(k=Object(Y.a)(["\n  font-size: inherit;\n  width: 30px;\n  padding: 2px 5px;\n"]))),un=te.a.input(E||(E=Object(Y.a)(["\n  width: 25px;\n  text-align: center;\n  font-size: inherit;\n"]))),ln=te.a.div(A||(A=Object(Y.a)(["\n  color: white;\n  display: flex;\n  font-size: ",";\n  float: right;\n  margin-bottom: 10px;\n"])),re.FONT_SIZE_NORMAL),dn=function(){var e=Object(K.useContext)(Q),n=e.runs,t=e.setRuns,r=Object(K.useState)(),c=Object(q.a)(r,2),i=c[0],o=c[1],a=Object(K.useState)(),s=Object(q.a)(a,2),u=s[0],l=s[1],d=function(e){t(n.filter((function(n){return n.runId!=e})))};return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(on,{n:n.length,setOuterStartIndex:o,setOuterEndIndex:l}),n.slice(i,u).map((function(e){return Object(X.jsx)(Qe,{run:e,deleteCallback:d},e.runId)}))]})},jn=t(7),On=function(){var e=Object(K.useContext)(Q),n=e.setRunner,t=e.setRuns,r=e.runs,c=ke(),i=ne();Object(K.useEffect)((function(){o()}),[r]);var o=function(){c.saveRuns(r)};return{initRuns:function(){t(c.getAllRuns())},initRunner:function(){n(i.getRunner())},removeRunner:function(){n(void 0),i.removeRunner()},deleteAll:function(){c.deleteRuns()}}},bn=function(){var e=Object(K.useState)(!1),n=Object(q.a)(e,2),t=n[0],r=n[1],c=On();return Object(X.jsxs)(xn,{onClick:function(){return r(!t)},children:[Object(X.jsx)(We.a,{icon:Je.a}),Object(X.jsxs)(fn,{show:t,children:[Object(X.jsx)(hn,{onClick:function(){return c.deleteAll()},children:"Forget"}),Object(X.jsx)(hn,{onClick:function(){return c.removeRunner()},children:"Logout"})]})]})},xn=te.a.div(T||(T=Object(Y.a)(["\n  padding-top: 5px;\n  position: relative;\n  display: inline-block;\n  color: white;\n  font-size: ",";\n"])),re.FONT_SIZE_LARGER),fn=te.a.div(y||(y=Object(Y.a)(["\n  color: white;\n  background-color: ",";\n  display: ",";\n  position: absolute;\n  z-index: 500;\n  right: -200%;\n  box-shadow: 0px 0px 10px #282c34;\n  width: 100px;\n"])),re.BACKGROUND_COLOR_MAIN,(function(e){return e.show?"block":"none"})),hn=te.a.div(C||(C=Object(Y.a)(["\n  text-align: center;\n  font-size: ",";\n  border: none;\n  cursor: pointer;\n  &:hover {\n    background-color: inherit;\n    color: white;\n  }\n"])),re.FONT_SIZE_LARGER),pn=function(){return Object(X.jsxs)(gn,{children:[Object(X.jsx)(vn,{children:"Places"}),Object(X.jsx)(bn,{})]})},gn=te.a.div(L||(L=Object(Y.a)(["\n  width: 100%;\n  height: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  padding: 10px 40px 5px 10px;\n"])),re.HEADER_HEIGHT),vn=te.a.h2(D||(D=Object(Y.a)(["\n  color: #eee;\n  font-family: ",";\n  font-size: ",";\n  font-weight: bold;\n  line-height: 48px;\n  padding: 0 5px;\n  text-transform: uppercase;\n  min-width: 200px;\n"])),re.FONT_FAMILY_MAIN,re.FONT_SIZE_LARGE),mn=function(){var e=Object(K.useContext)(Q).runner;return Object(X.jsx)(Sn,{children:Object(X.jsxs)(Rn,{children:["Willkommen",Object(X.jsx)("br",{}),e.runnerName]})})},Rn=te.a.h3(F||(F=Object(Y.a)(["\n  font-family: ",";\n  text-align: center;\n  font-size: ",";\n  color: white;\n"])),re.FONT_FAMILY_MAIN,re.FONT_SIZE_LARGE),Sn=te.a.div(M||(M=Object(Y.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 10% 0 0 0;\n"]))),wn=function(){return Object(X.jsxs)(_n,{children:[Object(X.jsx)(In,{children:Object(X.jsx)(Nn,{to:Xe.ROOT,children:Object(X.jsx)(We.a,{icon:Je.e})})}),Object(X.jsx)(In,{children:Object(X.jsx)(Nn,{to:Xe.NEW,children:Object(X.jsx)(We.a,{icon:Je.f})})}),Object(X.jsx)(In,{children:Object(X.jsx)(Nn,{to:Xe.RUNS,children:Object(X.jsx)(We.a,{icon:Je.h})})}),Object(X.jsx)(In,{children:Object(X.jsx)(We.a,{icon:Je.j})}),Object(X.jsx)(In,{children:Object(X.jsx)(We.a,{icon:Je.d})})]})},Nn=Object(te.a)(qe.b)(G||(G=Object(Y.a)(["\n  color: inherit;\n  font-size: inherit;\n  &:hover {\n    color: white;\n    background-color: inherit;\n  }\n  &:focus {\n    color: white;\n  }\n"]))),_n=te.a.div(z||(z=Object(Y.a)(["\n  background-color: #282c34;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  display: flex;\n  flex-wrap: nowrap;\n  z-index: 1000;\n"]))),In=te.a.button(U||(U=Object(Y.a)(["\n  height: ",";\n  width: 20%;\n  display: block;\n  color: #888;\n  text-align: center;\n  padding: 14px 16px;\n  text-decoration: none;\n  font-size: ",";\n  border: none;\n  background-color: inherit;\n"])),re.BOTTOM_NAVIGATION_HEIGHT,re.FONT_SIZE_LARGER),kn=t(650),En=t(647),An=t(316),Tn=t(97),yn=t(646),Cn=t(317),Ln=t(315),Dn=t(43),Fn=t(44),Mn=Object(Dn.a)((function e(n,t,r){Object(Fn.a)(this,e),this.dataKey=n,this.name=t,this.displayName=r}));P=Mn,Mn.DISTANCE=new P("distance","distance [km]","Distance"),Mn.SPEED=new P("speed","speed [km/h]","Speed"),Mn.ALTITUDE=new P("altitude","altitude [m]","Altitude");var Gn,zn,Un,Pn,Zn,Hn,Kn,Bn,Wn,Jn=function(e){var n=e.color,t=e.id;return Object(X.jsxs)("linearGradient",{id:t,x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(X.jsx)("stop",{offset:"5%",stopColor:n,stopOpacity:.8}),Object(X.jsx)("stop",{offset:"95%",stopColor:n,stopOpacity:0})]})},Yn=function(e){var n=e.dataOptions,t=e.setData,r=e.title,c=e.backgroundColor,i=Object(K.useState)(!1),o=Object(q.a)(i,2),a=o[0],s=o[1],u=function(e){var r=function(e){var t=n.filter((function(n){return n.displayName===e}))[0];if(!t)throw new Error("No suitable Option found");return t}(e.target.textContent);t(r),s(!a)};return Object(X.jsxs)(Vn,{onClick:function(){return s(!a)},children:[Object(X.jsx)(qn,{backgroundColor:c,children:r}),a&&Object(X.jsx)(Xn,{children:n.map((function(e,n){return Object(X.jsx)(Qn,{onClick:u,children:e.displayName},n)}))})]})},Vn=te.a.div(Gn||(Gn=Object(Y.a)([""]))),qn=te.a.div(zn||(zn=Object(Y.a)(["\n  color: black;\n  font-size: ",";\n  background-color: ",";\n  padding: 5px;\n  border-radius: 5px;\n  cursor: pointer;\n"])),re.FONT_SIZE_NORMAL,(function(e){return e.backgroundColor})),Xn=te.a.ul(Un||(Un=Object(Y.a)(["\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n"]))),Qn=te.a.li(Pn||(Pn=Object(Y.a)(["\n  cursor: pointer;\n  background-color: black;\n  color: white;\n  padding: 5px;\n  border-radius: 5px;\n"]))),$n=t(318),et=function(e){for(var n=e.run,t=[Mn.DISTANCE,Mn.SPEED,Mn.ALTITUDE],r=Object(K.useState)(t[0]),c=Object(q.a)(r,2),i=c[0],o=c[1],a=Object(K.useState)(t[1]),s=Object(q.a)(a,2),u=s[0],l=s[1],d=Object($n.a)(n.track.distances.map((function(e){return e.distance}))),j=[],O=0;O<d.length;O++){var b,x;j.push({time:new Date(n.track.trackPoints[O].time-n.startTime).toISOString().slice(12,19),distance:d[O],speed:parseInt(null===(b=n.track.trackPoints[O].speed)||void 0===b?void 0:b.toFixed(1)),altitude:parseInt(null===(x=n.track.trackPoints[O].altitude)||void 0===x?void 0:x.toFixed(1))})}return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(kn.a,{width:"100%",height:"30%",minHeight:"200px",children:Object(X.jsxs)(En.a,{data:j,children:[Object(X.jsxs)("defs",{children:[Object(X.jsx)(Jn,{id:"colorDistance",color:re.BACKGROUND_COLOR_SECOND}),Object(X.jsx)(Jn,{id:"colorSpeed",color:re.BACKGROUND_COLOR_THIRD})]}),Object(X.jsx)(An.a,{dataKey:"time",stroke:"#fff",interval:"preserveStartEnd",tick:{fontSize:re.FONT_SIZE_NORMAL},dy:10,angle:-20,style:{fontSize:re.FONT_SIZE_SMALL}}),Object(X.jsx)(Tn.a,{contentStyle:{borderRadius:"10px",opacity:.5,maxHeight:"fit-content"}}),Object(X.jsx)(yn.a,{stroke:"#666",vertical:!1,strokeDasharray:"3 3"}),Object(X.jsx)(Cn.a,{yAxisId:"left",type:"number",dataKey:i.dataKey,name:i.name,orientation:"left",stroke:re.BACKGROUND_COLOR_SECOND,dx:-5,style:{fontSize:re.FONT_SIZE_SMALL}}),Object(X.jsx)(Ln.a,{type:"monotone",dataKey:i.dataKey,name:i.name,stroke:re.BACKGROUND_COLOR_SECOND,fillOpacity:1,fill:"url(#colorDistance)",yAxisId:"left"}),Object(X.jsx)(Cn.a,{yAxisId:"right",type:"number",dataKey:u.dataKey,name:u.name,orientation:"right",stroke:"#ff8c00",dx:5,style:{fontSize:re.FONT_SIZE_SMALL}}),Object(X.jsx)(Ln.a,{type:"monotone",dataKey:u.dataKey,name:u.name,stroke:"#ff8c00",fillOpacity:1,fill:"url(#colorSpeed)",yAxisId:"right"})]})}),Object(X.jsxs)(nt,{children:[Object(X.jsx)(Yn,{dataOptions:t,setData:o,title:i.name,backgroundColor:re.BACKGROUND_COLOR_SECOND}),Object(X.jsx)(Yn,{dataOptions:t,setData:l,title:u.name,backgroundColor:re.BACKGROUND_COLOR_THIRD})]})]})},nt=te.a.div(Zn||(Zn=Object(Y.a)(["\n  display: flex;\n  flex-direction: row;\n  gap: 20px;\n  padding-top: 20px;\n"]))),tt=function(){var e=Object(jn.q)().runId,n=ke(),t=Object(K.useMemo)((function(){return n.getRun(e)}),[e]);return t?Object(X.jsxs)(ct,{children:[Object(X.jsx)(rt,{children:new Date(t.startTime).toLocaleString()}),Object(X.jsx)(et,{run:t})]}):Object(X.jsx)("div",{children:"No run found"})},rt=te.a.h1(Hn||(Hn=Object(Y.a)(["\n  color: white;\n  font-weight: bold;\n  font-family: ",";\n  font-size: ",";\n"])),re.FONT_FAMILY_MAIN,re.FONT_SIZE_LARGER),ct=te.a.div(Kn||(Kn=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: start;\n  height: 100%;\n  width: 100%;\n"])));var it=te.a.div(Bn||(Bn=Object(Y.a)(["\n  width: 100vw;\n  height: 100vh - ",";\n"])),re.BOTTOM_NAVIGATION_HEIGHT),ot=te.a.div(Wn||(Wn=Object(Y.a)(["\n  height: calc(\n    100vh - "," - ","\n  );\n  width: 100%;\n"])),re.BOTTOM_NAVIGATION_HEIGHT,re.HEADER_HEIGHT),at=function(){var e=Object(K.useContext)(Q).runner,n=On();return Object(jn.l)("/"),Object(K.useEffect)((function(){n.initRuns(),n.initRunner()}),[]),e?Object(X.jsxs)(it,{children:[Object(X.jsx)(pn,{}),Object(X.jsx)(ot,{children:Object(X.jsxs)(jn.c,{children:[Object(X.jsx)(jn.a,{path:Xe.ROOT,element:Object(X.jsx)(mn,{})}),Object(X.jsx)(jn.a,{path:Xe.NEW,element:Object(X.jsx)(Be,{})}),Object(X.jsx)(jn.a,{path:Xe.RUNS,element:Object(X.jsx)(dn,{})}),Object(X.jsx)(jn.a,{path:Xe.DETAIL,element:Object(X.jsx)(tt,{})})]})}),Object(X.jsx)(wn,{})]}):Object(X.jsx)(it,{children:Object(X.jsx)(ce,{})})},st=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,651)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,i=n.getLCP,o=n.getTTFB;t(e),r(e),c(e),i(e),o(e)}))};if("serviceWorker"in navigator){var ut="/Run-Zone";console.log(ut),navigator.serviceWorker.register(ut+"/service-worker.js").then((function(e){console.log("Service Worker registered with scope:",e.scope)})).catch((function(e){console.error("Service Worker registration failed:",e)}))}var lt=function(){var e=Object(H.a)(Object(Z.a)().mark((function e(){return Object(Z.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:if("granted"===e.sent){e.next=5;break}throw new Error("Notification permission not granted");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();lt(),J.a.render(Object(X.jsx)(B.a.StrictMode,{children:Object(X.jsx)($,{children:Object(X.jsx)(Ie,{children:Object(X.jsx)(qe.a,{children:Object(X.jsx)(at,{})})})})}),document.getElementById("root")),st()}},[[638,1,2]]]);
//# sourceMappingURL=main.46274d5c.chunk.js.map